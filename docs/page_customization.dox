/**
@page page_customization Customization

@tableofcontents

Custom behavior can be added by providing a class that overrides one of the @ref interfaces.
See the implementations in @ref mesh_modifiers, @ref tool_path_planners, and @ref tool_path_modifiers for reference.

@section s_gui_plugins GUI Plugins

@par
The Noether @ref s_gui is a framework that allows user-developed plugins to provide UI elements for configuring the @ref
s_pipeline. The GUI has hooks for displaying widgets for all available MeshModifier, ToolPathPlanner, and
ToolPathModifier implementations.

@par
At run-time, the GUI searches for plugins that can provide the widgets to configure these tool path planning concept
@ref interfaces. The GUI automatically finds plugins defined in this repository. User-developed plugins can also be
found by the GUI by adding the names of the plugin libraries to the `NOETHER_PLUGIN_LIBS` environment variable.

@par
This plugin-based GUI architecture allows end-users to leverage the out-of-the-box GUI infrastructure and plugins that
come with Noether, while still enabling private development of custom capabilities or customizations to the front-end of
existing Noether classes. Read the following sections to learn how to implement your own plugin for the Noether GUI.

@section s_gui_how_to Create your own Noether GUI plugin
@par
The following tutorial aims to guide new Noether users how to create a GUI plugin for a custom implementation of a Noether interface.
We describe widget creation in more detail to assist users unfamiliar with the [Qt framework](https://doc.qt.io/).

@par
We will describe how we created a [`ToolPathModifier`](https://github.com/ros-industrial/noether/blob/dev/noether_tpp/include/noether_tpp/core/tool_path_modifier.h)
called the [`LinearApproachModifier`](https://github.com/ros-industrial/noether/blob/dev/noether_tpp/include/noether_tpp/tool_path_modifiers/linear_approach_modifier.h).
This toolpath modifier inserts a user-specified number of waypoints to the first waypoint of a toolpath segment that are equally spaced within a defined offset from the first waypoint.

@par
The concepts described for the `ToolPathModifier` are also relevant to the `MeshModifier` and `ToolPathPlanner` interfaces.
In places where `ToolPathModifier` is written in the code, this can be replaced with `MeshModifier` or `ToolPathPlanner` if creating a custom `MeshModifier` or `ToolPathPlanner` interface respectively.

@par
Refer to existing [`MeshModifier`](https://github.com/ros-industrial/noether/tree/dev/noether_tpp/include/noether_tpp/mesh_modifiers) and
[`ToolPathPlanner`](https://github.com/ros-industrial/noether/tree/dev/noether_tpp/include/noether_tpp/tool_path_planners) implementations for more examples.

@par
The `LinearApproachModifierWidget` looks like this in the Noether GUI Application.

@image html static/noether_gui_app_linear_approach_modifier_axis_selector.png

@par
When the combobox widget with the option "Select Axis" is changed to "Define Axis", the application looks like this.
@image html static/noether_gui_app_linear_approach_modifier_axis_editor.png

An example toolpath plan in the Noether GUI Application is shown below with three points offset 0.1 meters in the Z axis from the first waypoints of the segments of the toolpath.
@image html static/noether_app_linear_approach.png

@subsection s_files_to_create Files to Create/Modify
@par
When creating a new GUI plugin, you will need to create the following files:

[`noether_gui`](https://github.com/ros-industrial/noether/tree/dev/noether_gui)
- [noether_gui/src/widgets/tool_path_modifiers/linear_approach_modifier_widget.ui](https://github.com/ros-industrial/noether/blob/dev/noether_gui/src/widgets/tool_path_modifiers/linear_approach_modifier_widget.ui) (If using Qt Designer to create widget format, this XML file is autogenerated from the Qt Designer, otherwise this is optional)
- [noether_gui/include/noether_gui/widgets/tool_path_modifiers/linear_approach_modifier_widget.h](https://github.com/ros-industrial/noether/blob/dev/noether_gui/include/noether_gui/widgets/tool_path_modifiers/linear_approach_modifier_widget.h)
- [noether_gui/src/widgets/tool_path_modifiers/linear_approach_modifier_widget.cpp](https://github.com/ros-industrial/noether/blob/dev/noether_gui/src/widgets/tool_path_modifiers/linear_approach_modifier_widget.cpp)

[`noether_tpp`](https://github.com/ros-industrial/noether/tree/dev/noether_tpp)
- [noether_tpp/include/noether_tpp/tool_path_modifiers/linear_approach_modifier.h](https://github.com/ros-industrial/noether/blob/dev/noether_tpp/include/noether_tpp/tool_path_modifiers/linear_approach_modifier.h)
- [noether_tpp/src/tool_path_modifiers/linear_approach_modifier.cpp](https://github.com/ros-industrial/noether/blob/dev/noether_tpp/src/tool_path_modifiers/linear_approach_modifier.cpp)

The following files need to be modified:
- [noether_gui/src/plugins.cpp](https://github.com/ros-industrial/noether/blob/dev/noether_gui/src/plugins.cpp)
- [noether_tpp/CMakeLists.txt](https://github.com/ros-industrial/noether/blob/dev/noether_tpp/CMakeLists.txt)
- [noether_gui/CMakeLists.txt](https://github.com/ros-industrial/noether/blob/dev/noether_gui/CMakeLists.txt)

@note The files listed above already exist for the `LinearAppoachModifier`. The names of the files and object names within each file will need to be renamed to the name of your custom interface.

@par
The main components of each of these files will now be discussed.

@subsubsection qt_designer_ui_file Qt Designer .ui File
[Qt Designer .ui File](https://github.com/ros-industrial/noether/blob/dev/noether_gui/src/widgets/tool_path_modifiers/linear_approach_modifier_widget.ui)

@par
The XML file linked above is automatically generated by the Qt Designer ([Qt Designer Manual](https://doc.qt.io/qt-6/qtdesigner-manual.html)).
It is not advised to create or edit this XML file by hand.
New Qt users will likely find creating and editing widgets easier in the Qt Designer, while more advanced Qt users may find a mix using the Qt Designer
and programatically creating widgets more convenient.

If using the Qt Creator IDE, you have the option of the IDE automatically generating the .ui, the header, and the source files for your widget.

The `linear_approach_modifier_widget.ui` looks like this in the QtDesigner:
@image html static/linear_approach_modifier_widget_ui_file.png

The `Vector3dEditor` widget is also used in the `LinearApproachToolPathModifierWidget` and appears like this in the Qt Designer:
@image html static/vector3d_editor_widget_ui.png

@par
The column on the left shows the various Qt objects that can be arranged in the center GUI editor of the application.
The right column lists the Qt objects, the object names, and the classes the objects belong to.

@subsubsection widget_header_file Widget Header File
@par
[linear_approach_modifier_widget.h](https://github.com/ros-industrial/noether/blob/dev/noether_gui/include/noether_gui/widgets/tool_path_modifiers/linear_approach_modifier_widget.h)

@include{lineno} ../noether_gui/include/noether_gui/widgets/tool_path_modifiers/linear_approach_modifier_widget.h

@par
The header file for the widget declares the QT creator UI elements (under the Ui namespace) and the Noether `ToolPathModifierWidget` class methods.

@par
The `ui_` and `vector_editor_ui` pointers have access to the data for the objects defined in the autogenerated header file that the Qt Designer makes once
the .ui file is complied. These are included by the lines in the
[source code](https://github.com/ros-industrial/noether/blob/dev/noether_gui/src/widgets/tool_path_modifiers/linear_approach_modifier_widget.cpp) file below.

```
#include "../ui_vector3d_editor_widget.h"
#include "ui_linear_approach_modifier_widget.h"
```

@par
The `LinearApproachToolPathModifierWidget` inherits from the `ToolPathModifierWidget` class. The `ToolPathModifierWidget` class inherits from the `BaseWidget`
class which inherits from the Qt `QWidget` class.

@par
The `BaseWidget` class can produce a widget class of [specifiable type](https://github.com/ros-industrial/noether/blob/dev/noether_gui/include/noether_gui/widgets.h).


@subsubsection widget_source_code Widget Source Code
@par
[linear_approach_modifier_widget.cpp](https://github.com/ros-industrial/noether/blob/dev/noether_gui/src/widgets/tool_path_modifiers/linear_approach_modifier_widget.cpp)


@include{lineno} ../noether_gui/src/widgets/tool_path_modifiers/linear_approach_modifier_widget.cpp

@par
Highlighting the main sections of the code.

```
ui_->setupUi(this);
```
@par
The widgets and layouts specified in the Qt Designer interface are configured and created by the `ui_` pointer's method `setupUI()` and passing it to the `this` pointer.

@snippet{strip} ../noether_gui/src/widgets/tool_path_modifiers/linear_approach_modifier_widget.cpp Configure GUI

@par
The vector_editor_ui_ GUI components are constructed and configured.
The `connect()` method links the signal [currentIndexChanged](https://doc.qt.io/qt-6/qcombobox.html#currentIndexChanged) to a lambda function that changes the current index of the stacked widget to show the vector_editor_ui_ widget. In other words, when the [`QComboBox`](https://doc.qt.io/qt-6/qcombobox.html) widget with the option "Select Axis" is changed to "Define Axis", the vector editor widget becomes visible to the user.

Signals and slots are an important concept when creating GUIs in Qt. Read more about them [here](https://doc.qt.io/qt-6/signalsandslots.html).

@snippet{strip} ../noether_gui/src/widgets/tool_path_modifiers/linear_approach_modifier_widget.cpp Create() method


The `LinearApproachToolPathModifierWidget::create()` method returns a `ToolPathModifier::ConstPtr`.
If the index of the `combo_box_menu` object is 0 (the "Select Axis" text is shown), the values from the `QDoubleSpinbox` objects containing the offset and number of points (`double_spin_box_offset` and `spin_box_points`) are extracted with the [`value()`](https://doc.qt.io/qt-6/qdoublespinbox.html#value-prop) method from the [`QDoubleSpinbox`](https://doc.qt.io/qt-6/qdoublespinbox.html) Qt class. They are passed to construct the `LinearApproachModifier` unique ConstPtr of type `ToolPathModifier`.

Otherwise, the values from the `QDoubleSpinbox` objects pointed to by `vector_editor_ui_` are extracted with the `value()` method and an Eigen::Vector3d object specifying the offset direction is iniztialized. This is then passed into the constructor for the `LinearApproachModifier` along with the value from the `spin_box_points` double spinbox.

The constructor for the `LinearApproachModifier` is defined in [the header file in the section below](https://github.com/ros-industrial/noether/blob/dev/noether_tpp/include/noether_tpp/tool_path_modifiers/linear_approach_modifier.h).

@snippet{strip} ../noether_gui/src/widgets/tool_path_modifiers/linear_approach_modifier_widget.cpp Configure() method

@par
The `LinearApproachToolPathModifierWidget::configure` takes a YAML::Node as an input (see [yaml-cpp documentation on YAML Nodes](https://github.com/jbeder/yaml-cpp/blob/master/docs/Tutorial.md#basic-parsing-and-node-editing)) and sets the values of the Qt objects based on if the index of the combobox is 0 or 1 (if "Select Axis" or "Define Axis" is shown").
The `getEntry` helper function extracts the value of user-specified type from the key in the passed YAML file.

@snippet{strip} ../noether_gui/src/widgets/tool_path_modifiers/linear_approach_modifier_widget.cpp Save() method

@par
The `LinearApproachToolPathModifierWidget::save` method saves the values from the Qt objects to the YAML Node keys specified by the variables at the top of the file:

@snippet{strip} ../noether_gui/src/widgets/tool_path_modifiers/linear_approach_modifier_widget.cpp YAML node keys

@subsubsection tpp_header Tool Path Modifier Header File
[linear_approach_modifier.h](https://github.com/ros-industrial/noether/blob/dev/noether_tpp/include/noether_tpp/tool_path_modifiers/linear_approach_modifier.h)

@include{lineno} ../noether_tpp/include/noether_tpp/tool_path_modifiers/linear_approach_modifier.h


@par
This header file declares the constructors for the `LinearApproachModifier`.
It also overrides the `ToolPathModifier` virtual [`modify`](https://github.com/ros-industrial/noether/blob/dev/noether_tpp/include/noether_tpp/core/tool_path_modifier.h#L37) method.

@subsubsection Tool Tool Path Modifier Source File
[linear_approach_modifier.cpp](https://github.com/ros-industrial/noether/blob/dev/noether_tpp/src/tool_path_modifiers/linear_approach_modifier.cpp)

@include{lineno} ../noether_tpp/src/tool_path_modifiers/linear_approach_modifier.cpp


@par
The `LinearApproachModifier::modify(ToolPaths tool_paths)` method takes a `ToolPaths` object as input and applies the desired modifications to the tool path.
This method is where the logic for how the toolpath is altered by the `ToolPathModifier` resides. An altered `ToolPaths` object is output.

@par
Here, we iterate through each `ToolPath` of the `ToolPaths` and offset an equally spaced number of points at a specified distance from the first `ToolPathWaypoint` of each `ToolPathSegment`.
See [here](https://github.com/ros-industrial/noether/blob/dev/noether_tpp/include/noether_tpp/core/types.h) for more information.

@par
This output is then passed to the `ToolPathPlannerPipeline` when the [`ToolPathPlannerPipeline::plan`](https://github.com/ros-industrial/noether/blob/97c33d18633769d666aa4bda457a92bd749d9aa2/noether_tpp/src/core/tool_path_planner_pipeline.cpp#L14) method is called in the [`ToolPathPlanner` widget](https://github.com/ros-industrial/noether/blob/dev/noether_gui/src/widgets/tpp_widget.cpp#L413).

@subsubsection plugins plugins.cpp
[noether_gui/src/plugins.cpp](https://github.com/ros-industrial/noether/blob/dev/noether_gui/src/plugins.cpp)

@par
In this file, we export the `ToolPathModifierWidgetPlugin` we created using the [`boost_plugin_loader` library](https://github.com/tesseract-robotics/boost_plugin_loader?tab=readme-ov-file) which is based on Boost DLL.
Add the header file for the `LinearApproachModifierWidget` to the file. Here, we add:
```
#include <noether_gui/widgets/tool_path_modifiers/linear_approach_modifier_widget.h>`
```

@par
Create an alias for the `ToolPathModifierWidgetPlugin`. Here, we add:
```
using LinearApproachToolPathModifierWidgetPlugin =
WidgetPluginImpl<LinearApproachToolPathModifierWidget, ToolPathModifierWidget>;
```
@par
The `WidgetPluginImpl` structure inherits from the `WidgetPlugin` class which is a base class for a plugin that can generate a Qt widget.

@par
Export the `ToolPathModifierWidget` to the [noether tool path planner application](https://github.com/ros-industrial/noether/blob/dev/noether_gui/src/tpp_app.cpp) using the `boost_plugin_loader` library `EXPORT_CLASS_SECTIONED` macro.
```
EXPORT_TOOL_PATH_MODIFIER_WIDGET_PLUGIN(noether::LinearApproachToolPathModifierWidgetPlugin, LinearApproachModifier)
```

@subsubsection tpp_CMakeLists noether_tpp/CMakeLists.txt
@par
[noether_tpp/CMakeLists.txt](https://github.com/ros-industrial/noether/blob/dev/noether_tpp/CMakeLists.txt)

@par
Under `add_library(${PROJECT_NAME} SHARED`, add the path to the source file for the `ToolPathModifier`. In this case, we add:
```
src/tool_path_modifiers/linear_approach_modifier.cpp
```

@par
This adds the source file for the `LinearApproachModifier` to the library target named `noether_tpp`.

@subsubsection gui_CMakeLists noether_gui/CMakeLists.txt
@par
[noether_gui/CMakeLists.txt](https://github.com/ros-industrial/noether/blob/dev/noether_gui/CMakeLists.txt)

@par
Under `add_library(${PROJECT_NAME} SHARED`, add the path to the source file for the `ToolPathModifierWidget`. In this case, we add:
```
src/widgets/tool_path_modifiers/linear_approach_modifier_widget.cpp
```

@par
This adds the source file for the `LinearApproachToolPathModifierWidget` to the library target named `noether_gui`.


*/
